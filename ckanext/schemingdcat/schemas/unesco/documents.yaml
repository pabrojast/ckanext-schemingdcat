scheming_version: 2
dataset_type: documents
about: "Datasets/Distributions: Adaptation for CKAN of the GeoDCAT-AP metadata schema extended (2.0.0) with ISO-19115 (INSPIRE) mandatory elements. European context (EU27)"
about_url: https://github.com/mjanez/ckanext-schemingdcat
form_languages: ["en", "es", "fr"]
required_language: "en"
schema_version: 2.1
schema_date: 2024-05-01
schema_name: geodcatap
schema_title: GeoDCAT-AP
schema_description: Geospatial extension for the DCAT application profile for data portals in Europe (GeoDCAT-AP)
schema_form_groups:
  # File upload section
  - form_group_id: file_upload
    label:
      en: File Upload
      es: Subida de archivo
      fr: Téléchargement de fichier
    fa_icon: fa-upload
  
  # Basic Info
  - form_group_id: title
    label:
      en: Title
      es: Título
      fr: Titre
    fa_icon: fa-sticky-note
  - form_group_id: notes
    label:
      en: Abstract
      es: Resumen
      fr: Résumé
    fa_icon: fa-file-text
  - form_group_id: general_info
    label:
      en: General information
      es: Información general
      fr: Informations générales
    fa_icon: fa-info-circle 
  - form_group_id: identification
    label:
      en: Document identification
      es: Identificación del documento
      fr: Identification du document
    fa_icon: fa-id-card
  - form_group_id: contact
    label:
      en: Contact information
      es: Información de contacto
      fr: Informations de contact
    fa_icon: fa-address-book

### Codes in Schema
# (M): Mandatory
# (R): Recommended
# (C): Conditional
# (O): Optional

#--Dataset (dcat:Dataset) fields--#
dataset_fields:

# File Upload (First field for immediate file upload)
- field_name: upload
  label:
    en: Upload Document File
    es: Subir archivo del documento
    fr: Télécharger le fichier du document
  form_snippet: upload.html
  upload_field: upload
  upload_clear: clear_upload
  upload_label: 
    en: Document File
    es: Archivo del documento
    fr: Fichier du document
  form_placeholder:
    en: Select a file to upload...
    es: Seleccionar un archivo para subir...
    fr: Sélectionner un fichier à télécharger...
  help_text:
    en: "Upload your document file. The system will automatically extract metadata when possible."
    es: "Sube tu archivo de documento. El sistema extraerá automáticamente los metadatos cuando sea posible."
    fr: "Téléchargez votre fichier de document. Le système extraira automatiquement les métadonnées lorsque cela sera possible."
  form_group_id: file_upload

# Dataset title translated (M)
- field_name: title_translated
  label: 
    en: Document title
    es: Título del documento
    fr: Titre du document
  preset: schemingdcat_fluent_title_translated
  required: True
  display_property: dct:title
  form_placeholder:
    en: e.g. A descriptive title.
    es: ej. Un título descriptivo.
    fr: p. ex. Un titre descriptif.
  form_languages: ["en", "es", "fr"]
  required_language: "en"
  form_group_id: title

# Dataset abstract translated (M)
- field_name: notes_translated
  label: 
    en: Document abstract 
    es: Resumen del documento
    fr: Résumé du document
  preset: schemingdcat_fluent_notes_translated
  required: True
  display_property: dct:description
  form_placeholder:
    en: e.g. Some useful description about the document.
    es: ej. Una descripción útil sobre el documento.
    fr: p. ex. Une description utile du document.
  form_languages: ["en", "es", "fr"]
  required_language: "en"
  default_values: 
    en: Default abstract of the {document}.
    es: Resumen por defecto del documento {document}.
    fr: Résumé par défaut du document {document}.
  form_group_id: notes

# CKAN Organization (M) // Dataset privacy (M)
- field_name: owner_org
  label:
    en: Organization
    es: Organización
    fr: Organisation
  required: True
  help_text:
    en: Entity (organisation) responsible for making the Dataset available.
    es: Entidad (organización) responsable de publicar el conjunto de datos.
    fr: Entité (organisation) responsable de la mise à disposition du jeu de données.
  preset: dataset_organization
  form_group_id: general_info

# Non-spatial Dataset (Hidden field, based on dcat_type)
- field_name: dataset_scope
  label:
    en: Scope of the data
    es: Alcance de los datos
    fr: Portée des données
  preset: dataset_scope
  required: False
  choices:
    - label:
        en: "Non-spatial dataset"
        es: "Conjunto de datos no espaciales"
        fr: "Jeu de données non spatial"
      value: non_spatial_dataset
    - label:
        en: "Spatial dataset"
        es: "Conjunto de datos espaciales"
        fr: "Jeu de données spatiales"
      value: spatial_dataset
  form_group_id: general_info

# - field_name: groups__0__id
#   label:
#     en: Group
#     es: Grupo
#     fr: Grappe
#   required: FalseW
#   preset: dataset_group
#   form_group_id: general_info

# Graphic overview (O)
- field_name: graphic_overview
  label:
    en: Graphic overview of the document
    es: Descripción gráfica del documento
    fr: Aperçu graphique du document
  display_snippet: schemingdcat/display_snippets/graphic_overview.html
  form_placeholder: http://example.com/dataset.jpg
  help_text:
    en: "Graphic that provides an illustration of the document."
    es: "Gráfico que ilustra el documento."
    fr: "Graphique illustrant le document."
  form_group_id: general_info

# Metadata file language (M)
- field_name: language
  label:
    en: Metadata language
    es: Idioma de los metadatos
    fr: Langue des métadonnées
  preset: select
  display_property: dct:language
  display_snippet: schemingdcat/display_snippets/link_schema.html
  form_include_blank_choice: False
  validators: not_empty scheming_required
  required: True
  sorted_choices: True
  choices:
  - label:
      en: Spanish
      es: Español
      fr: Espagnol
    value: http://publications.europa.eu/resource/authority/language/SPA
  - label:
      en: English
      es: Inglés
      fr: Anglais
    value: http://publications.europa.eu/resource/authority/language/ENG
  - label:
      en: German
      es: Alemán
      fr: Allemand
    value: http://publications.europa.eu/resource/authority/language/DEU
  - label:
      en: French
      es: Francés
      fr: Français
    value: http://publications.europa.eu/resource/authority/language/FRA
  - label:
      en: Italian
      es: Italiano
      fr: Italien
    value: http://publications.europa.eu/resource/authority/language/ITA
  - label:
      en: Dutch
      es: Neerlandés
      fr: Néerlandais
    value: http://publications.europa.eu/resource/authority/language/NLD
  - label:
      en: Danish
      es: Danés
      fr: Danois
    value: http://publications.europa.eu/resource/authority/language/DAN
  - label:
      en: Greek
      es: Griego
      fr: Grec
    value: http://publications.europa.eu/resource/authority/language/ELL
  - label:
      en: Portuguese
      es: Portugués
      fr: Portugais
    value: http://publications.europa.eu/resource/authority/language/POR
  - label:
      en: Finnish
      es: Finés
      fr: Finlandais
    value: http://publications.europa.eu/resource/authority/language/FIN
  - label:
      en: Swedish
      es: Sueco
      fr: Suédois
    value: http://publications.europa.eu/resource/authority/language/SWE
  - label:
      en: Czech
      es: Checo
      fr: Tchèque
    value: http://publications.europa.eu/resource/authority/language/CES
  - label:
      en: Estonian
      es: Estonio
      fr: Estonien
    value: http://publications.europa.eu/resource/authority/language/EST
  - label:
      en: Croatian
      es: Croata
      fr: Croate
    value: http://publications.europa.eu/resource/authority/language/HRV
  - label:
      en: Hungarian
      es: Húngaro
      fr: Hongrois
    value: http://publications.europa.eu/resource/authority/language/HUN
  - label:
      en: Latvian
      es: Letón
      fr: Letton
    value: http://publications.europa.eu/resource/authority/language/LAV
  - label:
      en: Lithuanian
      es: Lituano
      fr: Lituanien
    value: http://publications.europa.eu/resource/authority/language/LIT
  - label:
      en: Maltese
      es: Maltés
      fr: Maltais
    value: http://publications.europa.eu/resource/authority/language/MLT
  - label:
      en: Polish
      es: Polaco
      fr: Polonais
    value: http://publications.europa.eu/resource/authority/language/POL
  - label:
      en: Slovak
      es: Eslovaco
      fr: Slovaque
    value: http://publications.europa.eu/resource/authority/language/SLK
  - label:
      en: Slovene
      es: Esloveno
      fr: Slovène
    value: http://publications.europa.eu/resource/authority/language/SLV
  - label:
      en: Romanian
      es: Rumano
      fr: Roumain
    value: http://publications.europa.eu/resource/authority/language/ROM
  - label:
      en: Bulgarian
      es: Búlgaro
      fr: Bulgare
    value: http://publications.europa.eu/resource/authority/language/BUL
  - label:
      en: Irish
      es: Irlandés
      fr: Irlandais
    value: http://publications.europa.eu/resource/authority/language/GLE
  - label:
      en: Croatian
      es: Croata
      fr: Croate
    value: http://publications.europa.eu/resource/authority/language/HRV
  - label:
      en: Luxembourgish
      es: Luxemburgués
      fr: Luxembourgeois
    value: http://publications.europa.eu/resource/authority/language/LTZ
  - label:
      en: Slovak
      es: Eslovaco
      fr: Slovaque
    value: http://publications.europa.eu/resource/authority/language/SLK
  - label:
      en: Slovene
      es: Esloveno
      fr: Slovène
    value: http://publications.europa.eu/resource/authority/language/SLV
  - label:
      en: Maltese
      es: Maltés
      fr: Maltais
    value: http://publications.europa.eu/resource/authority/language/MLT
  - label:
      en: Polish
      es: Polaco
      fr: Polonais
    value: http://publications.europa.eu/resource/authority/language/POL
  - label:
      en: Romanian
      es: Rumano
      fr: Roumain
    value: http://publications.europa.eu/resource/authority/language/ROM
  - label:
      en: Bulgarian
      es: Búlgaro
      fr: Bulgare
    value: http://publications.europa.eu/resource/authority/language/BUL
  - label:
      en: Irish
      es: Irlandés
      fr: Irlandais
    value: http://publications.europa.eu/resource/authority/language/GLE
  form_group_id: general_info
  default: "http://publications.europa.eu/resource/authority/language/ENG"

# Metadata file identifier (M)
## Unique resource identifier (UUID)  (Mandatory). If it does not exist, CKAN creates a UUID (Metadata file identifier 'package_id')
- field_name: identifier
  label: 
    en: Metadata identifier
    es: Identificador de los metadatos
    fr: Identifiant des métadonnées
  required: True
  display_property: dct:identifier
  form_placeholder: 123e4567-e89b-12d3-a456-426614174000
  help_text:
    en: e.g. Unique resource identifier (UUID).
    es: Ej. Identificador único de recurso (UUID).
    fr: p. ex. Identifiant unique de ressource (UUID).
  help_allow_html: True
  validators: "not_empty scheming_required schemingdcat_clean_identifier"
  form_group_id: identification
  form_attrs:
    data-module: "copy-from-title slug-preview-target"
# Dataset locator (O)
## For all resources that is equivalent to this element, such as a URI (of dcat:Dataset).
- field_name: name
  label: 
    en: URL
    es: URL
    fr: URL
  preset: schemingdcat_dataset_slug
  display_property: dcat:landingPage
  form_placeholder:
    en: URL title Dataset
    es: Título de la URL del Dataset
    fr: Titre de l'URL du jeu de données
  form_slug_related: identifier
  form_group_id: identification

# Keyword URI (M)
## TODO: Improve form_snippet to generate tag_uri auto from tag_string
## TODO: Add as scheming_datastore_choices (helpers.py/#102) http://github.com/ckan/ckanext-scheming/issues/270
## Only for ckanext-dcat profiles.py
- field_name: tag_uri
  label: 
    en: Keyword URIs
    es: URI de palabras clave
    fr: URI des mots-clés
  preset: multiple_text
  display_snippet: schemingdcat/display_snippets/list_keywords.html
  form_placeholder: 'http://inspire.ec.europa.eu/metadata-codelist/IACSData/gsaa'
  help_text:
    en: 'e.g. Metadata code list register (INSPIRE): http://inspire.ec.europa.eu/metadata-codelist'
    es: 'ej: Registro de listas controladas de metadatos (INSPIRE): http://inspire.ec.europa.eu/metadata-codelist'
    fr: 'p. ex. Registre des listes de codes de métadonnées (INSPIRE) : http://inspire.ec.europa.eu/metadata-codelist'
  form_group_id: general_info

# TODO: Probably better include contact_role and contact_organization (boolean) to distinguish between vcard:Individual and vcard:Organizationto use in ckanext-dcat/profiles.py
# Metadata point of contact URI (M)
- field_name: contact_uri
  label:
    en: URI of the Metadata contact point
    es: URI del punto de contacto de los metadatos
    fr: URI du point de contact des métadonnées
  display_snippet: schemingdcat/display_snippets/link_name.html
  form_placeholder: http://orgs.vocab.org/some-org
  form_group_id: general_info

# Metadata point of contact name (M)
- field_name: contact_name
  label:
    en: Metadata contact point name
    es: Nombre del punto de contacto de los metadatos
    fr: Nom du point de contact des métadonnées
  display_property: dcat:contactPoint
  form_placeholder: José Blanco
  form_attrs:
    data-module: "auto-contact"
    data-module-source: "user"
    data-module-field: "name"
  form_group_id: contact

# Metadata point of contact email (M)
- field_name: contact_email
  label:
    en: Metadata contact point email
    es: Email del punto de contacto de los Metadatos
    fr: Courriel du point de contact des métadonnées
  validators: not_empty scheming_required schemingdcat_valid_email
  required: True
  display_property: vcard:hasEmail
  display_snippet: email.html
  form_placeholder: joseblanco@example.com
  form_attrs:
    data-module: "auto-contact"
    data-module-source: "user"
    data-module-field: "email"
  form_group_id: contact

# Metadata point of contact Web (R)
- field_name: contact_url
  label:
    en: Website of the Metadata contact point
    es: Web del punto de contacto de los metadatos
    fr: Site web du point de contact des métadonnées
  preset: valid_url
  display_property: vcard:hasURL
  form_placeholder: http://www.example.com
  form_group_id: contact
